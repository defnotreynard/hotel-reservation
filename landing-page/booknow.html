<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Now</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <!-- Navbar -->
  <nav class="text-2xl p-1 bg-white text-gray-500 relative z-10">
    <div class="flex justify-between items-center p-2">
      <div class="md:ml-[5%] uppercase text-gray-700 font-bold">Logo</div>
      <ul class="flex flex-wrap gap-6 md:space-x-20 px-4 md:px-[5%]">
        <li><a href="home.html" id="home" class="hover:text-gray-700 nav-link">Home</a></li>
        <li><a href="about.html" id="about" class="hover:text-gray-700 nav-link">About</a></li>
        <li><a href="rooms.html" id="rooms" class="hover:text-gray-700 nav-link">Rooms</a></li>
        <li><a href="contact.html" id="contact" class="hover:text-gray-700 nav-link">Contact</a></li>
        <li>
          <button class="bg-[#FFD23E] text-xl text-white px-5 rounded p-2">
            <a href="booknow.html">Book Now</a>
          </button>
        </li>
        <li>         
          <a href="checkout.html"> <img src="images/shopping-cart.png" alt="cart" height="50" width="35"></a>
        </li>
      </ul>
    </div>
    <style>
      .active {
        border-bottom: 2px solid #FFD23E;
        padding-bottom: 5px;
        color: orange;
      }
    </style>
    <script>
      const currentPage = window.location.pathname.split("/").pop();
      const navLinks = document.querySelectorAll('.nav-link');
      navLinks.forEach(link => {
        if (link.getAttribute("href") === currentPage) {
          link.classList.add("active");
        }
      });
    </script>
  </nav>

  <!-- Booking -->
  <div class="flex items-center justify-between">
    <div class="relative z-20 md:mt-[2%] md:flex md:items-center md:ml-5 md:-mt-[3%] md:mb-[2%]">
      <div class="md:flex md:gap-10 md:flex-wrap bg-white p-6 grid grid-cols-2 gap-2 border ">
        <div>
          <label for="person" class="block text-gray-500 font-semibold">Person</label>
          <select id="person" class="border p-2 rounded w-40">
            <option value="">Select Person</option>
            <option value="1">1 Person</option>
            <option value="2">2 People</option>
            <option value="3">3 People</option>
            <option value="4">4 People</option>
          </select>
        </div>
        <div>
          <label for="check-in" class="block text-gray-500 font-semibold">Check-in</label>
          <input type="date" id="check-in" class="border p-2 rounded w-48">
        </div>
        <div>
          <label for="check-out" class="block text-gray-500 font-semibold">Check-out</label>
          <input type="date" id="check-out" class="border p-2 rounded md:w-48">
        </div>
        <div>
          <label for="email" class="block text-gray-500 font-semibold">Email</label>
          <input type="email" id="email" placeholder="Enter your email" class="border p-2 rounded md:w-60">
        </div>
      </div>
    </div>
    <div class="mr-[1%] border-2 p-10 w-[30%]">
        order details
      <h1 class="text-gray-500 text-xl font-semibold">Your Cart: 0 Item</h1>
      <h1 class="text-gray-600 text-xl font-semibold">Total â‚± <span>0.00</span></h1>
    </div>
  </div>
  
<!-- Checkout Modal -->
<div id="checkoutModal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg w-11/12 max-w-3xl p-6 relative">
      <button id="closeCheckout" class="absolute top-3 right-3 text-2xl font-bold hover:text-gray-700">&times;</button>
      <h2 class="text-3xl font-bold mb-4 text-gray-700">Checkout Summary</h2>
      <div id="checkoutContent" class="text-gray-700"></div>
    </div>
  </div>
  


  <h1 class="text-3xl font-bold text-gray-500 ml-5">Select A Room</h1>
  <div class="border-b-2 w-[69%] mt-2"></div>
  <div id="roomsContainer" class="flex flex-col md:ml-5 gap-1 my-10"></div>

  <!-- Modal -->
  <div id="galleryModal" class="hidden fixed inset-0 bg-black bg-opacity-80 items-center justify-center z-50">
    <button onclick="closeGallery()" class="absolute top-5 right-5 text-white text-3xl">&times;</button>
    <button onclick="prevImage()" class="absolute left-5 text-white text-3xl">&#10094;</button>
    <img id="modalImg" src="" class="h-[90%] w-[60%] rounded shadow-lg">
    <button onclick="nextImage()" class="absolute right-5 text-white text-3xl">&#10095;</button>
  </div>
  
  <script>
    const rooms = [
      {
        name: "Presidential Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 400,
        description: "38sqm, Working Desk, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://img.freepik.com/free-photo/3d-rendering-beautiful-comtemporary-luxury-bedroom-suite-hotel-with-tv_105762-2071.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8="
            ]
      },
      {
        name: "Deluxe Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 350,
        description: "38sqm, Elegant Interior, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        name: "Premium Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 300,
        description: "38sqm, Modern Design, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8=",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        name: "Standard Room",
        bed: "1 Queen Bed",
        breakfast: "Breakfast Included",
        price: 250,
        description: "27sqm, Cozy Room, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://media.istockphoto.com/id/180451126/photo/hotel-standard-room.jpg?s=612x612&w=0&k=20&c=iu4nL4_zUf7AI6iL74zvpqHFg-0AFR3bdTP68WJf5_g=",
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        name: "Premier Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 210,
        description: "32sqm, City View, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/premium-photo/interior-photography-modern-style-bedroom-with-large-bed_321831-670.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-beautiful-comtemporary-luxury-bedroom-suite-hotel-with-tv_105762-2071.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/180451126/photo/hotel-standard-room.jpg?s=612x612&w=0&k=20&c=iu4nL4_zUf7AI6iL74zvpqHFg-0AFR3bdTP68WJf5_g="
            ]
      },
      {
        name: "One-Bedroom Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 180,
        description: "30sqm, Spacious with Living Area <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80"
            ]
      },
      {
        name: "Executive Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 180,
        description: "35sqm, Business Interior, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8=",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        name: "Economy Room",
        bed: "1 Double Bed",
        breakfast: "Breakfast Included",
        price: 130,
        description: "20sqm, Budget-Friendly, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/premium-photo/interior-photography-modern-style-bedroom-with-large-bed_321831-670.jpg?w=740&q=80"
            ]
      }
    ];

    const container = document.getElementById("roomsContainer");
    const modal = document.getElementById("galleryModal");
    const modalImg = document.getElementById("modalImg");
    let currentImages = [];
    let currentIndex = 0;

    rooms.forEach((room) => {
  const card = document.createElement("div");
  card.className = "relative flex flex-col md:flex-row w-full md:w-[69%] mt-4 rounded-lg overflow-hidden border";

  // Left: image
  const left = document.createElement("div");
  left.className = "relative w-full md:w-1/2 h-[40vh] md:h-[30vh] overflow-hidden";

  const img = document.createElement("img");
  img.src = room.images[0]; 
  img.className = "h-full w-full object-cover";
  left.appendChild(img);

  const overlay = document.createElement("img");
  overlay.src = "images/image-gallery.png";
  overlay.className = "absolute bottom-2 right-2 w-8 h-8 bg-white rounded-full p-1 shadow-md cursor-pointer";
  overlay.onclick = () => openGallery(room.images);
  left.appendChild(overlay);

  // Right: info
  const right = document.createElement("div");
  right.className = "w-full md:w-[70%] p-6 flex flex-col justify-between";

  // Create a div for the right content
  const content = document.createElement("div");
  content.className = "flex justify-between items-start mb-4";

  // Room details
  const roomDetails = document.createElement("div");
  roomDetails.className = "w-[65%]";
  roomDetails.innerHTML = `
    <h1 class="text-2xl text-gray-500 font-bold">${room.name}</h1> 
    <p class="text-gray-500">${room.bed}</p>
    <p class="font-semibold text-gray-500">${room.breakfast}</p>
    <p class="text-gray-600 leading-relaxed mt-4">${room.description}</p>
  `;

  // Price and button
  const booking = document.createElement("div");
  booking.className = "text-right flex flex-col items-start gap-2";

  const price = document.createElement("h1");
  price.className = "text-2xl font-bold text-amber-500";
  price.innerText = `$${room.price}`;

  const perNight = document.createElement("p");
  perNight.className = "text-gray-500 text-sm";
  perNight.innerText = "Per Night";

  const button = document.createElement("button");
  button.className = "bg-amber-500 text-white px-6 py-2 rounded hover:bg-yellow-600 transition";
  button.innerText = "Book Now";

  // ðŸ‘‡ On Book Now Click â€” store all info
  button.onclick = () => {
    const person = document.getElementById("person")?.value;
    const checkIn = document.getElementById("check-in")?.value;
    const checkOut = document.getElementById("check-out")?.value;
    const email = document.getElementById("email")?.value;

    if (!person || !checkIn || !checkOut || !email) {
      alert("Please fill in all booking details before selecting a room.");
      return;
    }

    const bookingInfo = {
      room,
      person,
      checkIn,
      checkOut,
      email
    };

    localStorage.setItem("selectedBooking", JSON.stringify(bookingInfo));
    window.location.href = "checkout.html";
  };

  // Assemble booking section
  booking.appendChild(price);
  booking.appendChild(perNight);
  booking.appendChild(button);

  content.appendChild(roomDetails);
  content.appendChild(booking);

  right.appendChild(content);
  card.appendChild(left);
  card.appendChild(right);
  container.appendChild(card);
});

button.onclick = () => {
  const person = document.getElementById("person")?.value;
  const checkIn = document.getElementById("check-in")?.value;
  const checkOut = document.getElementById("check-out")?.value;
  const email = document.getElementById("email")?.value;

  if (!person || !checkIn || !checkOut || !email) {
    alert("Please fill in all booking details before selecting a room.");
    return;
  }

  const bookingInfo = {
    room,
    person,
    checkIn,
    checkOut,
    email
  };

  localStorage.setItem("selectedBooking", JSON.stringify(bookingInfo));
  window.location.href = "checkout.html";
};

function renderBookingSummary() {
  const container = document.getElementById("yourBookingSummary");
  const savedBooking = JSON.parse(localStorage.getItem("selectedBooking"));

  if (!savedBooking) {
    container.innerHTML = "<p class='text-gray-500'>No current booking selected.</p>";
    return;
  }

  const { room, person, checkIn, checkOut, email } = savedBooking;

  container.innerHTML = `
    <h2 class="text-2xl font-bold mb-4 text-gray-700">Your Booking</h2>
    <div class="flex flex-col md:flex-row gap-4">
      <img src="${room.images[0]}" alt="${room.name}" class="w-full md:w-[300px] h-[200px] object-cover rounded">
      <div>
        <h3 class="text-xl font-semibold text-gray-800">${room.name}</h3>
        <p class="text-gray-600">${room.bed}</p>
        <p class="text-gray-600">${room.breakfast}</p>
        <p class="text-gray-600 mt-2">${room.description}</p>
        <p class="text-amber-600 text-lg font-bold mt-4">â‚±${room.price}.00 per night</p>
        <p class="mt-2 text-gray-700"><strong>Check-in:</strong> ${checkIn}</p>
        <p class="text-gray-700"><strong>Check-out:</strong> ${checkOut}</p>
        <p class="text-gray-700"><strong>Guests:</strong> ${person}</p>
        <p class="text-gray-700"><strong>Email:</strong> ${email}</p>
      </div>
    </div>
  `;
}

// Call it on page load:
window.addEventListener("DOMContentLoaded", renderBookingSummary);



    function openGallery(images) {
      currentImages = images;
      currentIndex = 0;
      modalImg.src = images[currentIndex];
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    }

    function closeGallery() {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    }

    function nextImage() {
      currentIndex = (currentIndex + 1) % currentImages.length;
      modalImg.src = currentImages[currentIndex];
    }

    function prevImage() {
      currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
      modalImg.src = currentImages[currentIndex];
    }
  </script>
</body>
</html>
