<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book Now</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="font.css">
</head>
<body>

  <div class="relative h-[75vh]  bg-cover bg-center" >
    <!-- Navbar -->
<nav class="text-2xl p-1 bg-[rgba(255,255,255,0.89)] text-gray-500 relative z-50">
  <div class="flex justify-between items-center p-2">
    <div class="md:ml-[5%] uppercase text-gray-700 font-bold">Logo</div>
    
    <!-- Desktop Navigation -->
    <ul class="hidden min-[820px]:flex flex-row text-[17px] gap-20 text-xl px-4 min-[820px]:px-[5%]">
      <li><a href="home.html" class="hover:text-gray-700 nav-link">Home</a></li>
      <li><a href="about.html" class="hover:text-gray-700 nav-link">About</a></li>
      <li><a href="rooms.html" class="hover:text-gray-700 nav-link">Rooms</a></li>
      <li><a href="contact.html" class="hover:text-gray-700 nav-link">Contact</a></li>
      <li>
        <button class="bg-[#FFD23E] text-xl sm:text-sm text-white px-5 rounded p-2">
          <a href="booknow.html">Book Now</a>
        </button>
      </li>
    </ul>
    
    <!-- Mobile Hamburger -->
    <button id="hamburgerBtn" class="flex min-[820px]:hidden mr-[5%] focus:outline-none">
      <div class="space-y-2">
        <span class="block w-8 h-0.5 bg-gray-700 transition-all duration-300" id="line1"></span>
        <span class="block w-8 h-0.5 bg-gray-700 transition-all duration-300" id="line2"></span>
        <span class="block w-8 h-0.5 bg-gray-700 transition-all duration-300" id="line3"></span>
      </div>
    </button>
  </div>
  
  <!-- Mobile Menu -->
  <div id="mobileMenu" 
       class="flex-col min-[820px]:hidden absolute z-[100] top-full left-0 w-full bg-[rgba(255,255,255,0.95)] backdrop-blur-sm transform -translate-y-full opacity-0 invisible transition-all duration-300">
    <ul class="flex flex-col items-center py-8 space-y-6">
      <li><a href="home.html" class="hover:text-gray-700 nav-link text-xl">Home</a></li>
      <li><a href="about.html" class="hover:text-gray-700 nav-link text-xl">About</a></li>
      <li><a href="rooms.html" class="hover:text-gray-700 nav-link text-xl">Rooms</a></li>
      <li><a href="contact.html" class="hover:text-gray-700 nav-link text-xl">Contact</a></li>
      <li>
        <button class="bg-[#FFD23E] text-xl text-white px-6 py-3 rounded">
          <a href="booknow.html">Book Now</a>
        </button>
      </li>
      <!-- Mobile Cart Button -->
<button id="mobileCartBtn" class="min-[820px]:hidden text-gray-700 text-2xl mr-4">
<div class="flex items-center gap-5">
  <div>
    <img src="images/shopping-cart.png" alt="cart" height="25" width="25"> 
   </div>
   <div>
    <span id="mobileCartCount">0</span>
   </div>
</div>
</button>

    </ul>
  </div>
</nav>

<!-- Mobile Cart Popup -->
<div id="mobileCartModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg w-11/12 max-w-md p-6 relative max-h-[80vh] overflow-y-auto">
    <button onclick="closeMobileCart()" class="absolute top-2 right-3 text-2xl font-bold hover:text-gray-700">&times;</button>
    <h2 class="text-xl font-bold mb-4 text-amber-400">Your Cart</h2>
    
    <div id="mobileCartItems" class="space-y-2"></div>

    <div class="mt-4 flex justify-between font-bold text-lg">
      <span>Total:</span>
      <span>$<span id="mobileCartTotal">0.00</span></span>
    </div>

    <button onclick="openCheckoutModal()" class="mt-4 w-full bg-[#FFD23E] text-white py-2 rounded hover:bg-yellow-500 transition-colors" id="mobileCheckoutBtn" disabled>
      Proceed to Checkout
    </button>
  </div>
</div>


<script>
  function updateMobileCart() {
  const mobileCartItems = document.getElementById('mobileCartItems');
  const mobileCartTotal = document.getElementById('mobileCartTotal');
  const mobileCartCount = document.getElementById('mobileCartCount');
  const mobileCheckoutBtn = document.getElementById('mobileCheckoutBtn');

  mobileCartCount.textContent = cart.length;

  if (cart.length === 0) {
    mobileCartItems.innerHTML = '<p class="text-gray-500 text-sm">No items in cart</p>';
    mobileCartTotal.textContent = '0.00';
    mobileCheckoutBtn.disabled = true;
    return;
  }

  let total = 0;
  mobileCartItems.innerHTML = '';
  cart.forEach(item => {
    total += item.total;
    const div = document.createElement('div');
    div.className = 'bg-gray-100 p-2 rounded text-sm flex justify-between items-start';
    div.innerHTML = `
      <div>
        <p class="font-semibold">${item.room.name}</p>
        <p class="text-xs text-gray-600">${item.nights} nights × $${item.room.price}</p>
      </div>
      <div class="text-right">
        <p class="font-bold text-amber-600">$${item.total}</p>
        <button onclick="removeFromCart(${item.room.id}); updateMobileCart();" class="text-red-500 text-xs hover:text-red-700">Remove</button>
      </div>
    `;
    mobileCartItems.appendChild(div);
  });

  mobileCartTotal.textContent = total.toFixed(2);
  mobileCheckoutBtn.disabled = false;
}

const mobileCartModal = document.getElementById('mobileCartModal');

document.getElementById('mobileCartBtn').addEventListener('click', () => {
  updateMobileCart();
  mobileCartModal.classList.remove('hidden');
  mobileCartModal.classList.add('flex');
});

function closeMobileCart() {
  mobileCartModal.classList.add('hidden');
  mobileCartModal.classList.remove('flex');
}


</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Fade in on load
  document.body.style.opacity = "1";

  // Smooth fade on navigation
  const links = document.querySelectorAll("a.nav-link");
  links.forEach(link => {
    link.addEventListener("click", function (e) {
      e.preventDefault();
      const href = this.getAttribute("href");

      document.body.style.opacity = "0"; // fade out

      setTimeout(() => {
        window.location.href = href;
      }, 600); // match transition duration
    });
  });

  // Hamburger menu toggle
  const hamburgerBtn = document.getElementById("hamburgerBtn");
  const mobileMenu = document.getElementById("mobileMenu");
  const line1 = document.getElementById("line1");
  const line2 = document.getElementById("line2");
  const line3 = document.getElementById("line3");

  hamburgerBtn.addEventListener("click", () => {
    const isOpen = mobileMenu.classList.contains("translate-y-0");

    if (isOpen) {
      // Close
      mobileMenu.classList.remove("translate-y-0", "opacity-100", "visible");
      mobileMenu.classList.add("-translate-y-full", "opacity-0", "invisible");

      // Animate hamburger back
      line1.classList.remove("rotate-45", "translate-y-2");
      line2.classList.remove("opacity-0");
      line3.classList.remove("-rotate-45", "-translate-y-2");
    } else {
      // Open
      mobileMenu.classList.remove("-translate-y-full", "opacity-0", "invisible");
      mobileMenu.classList.add("translate-y-0", "opacity-100", "visible");

      // Animate hamburger into X
      line1.classList.add("rotate-45", "translate-y-2");
      line2.classList.add("opacity-0");
      line3.classList.add("-rotate-45", "-translate-y-2");
    }
  });
});
</script>

    
    
    
    <!-- hero section -->
    <section class="relative h-[77vh] mt-[-14%] md:mt-[-5%] w-full overflow-hidden">
    <!-- Background Layers -->
    <div id="heroBg1" class="absolute inset-0 bg-cover bg-center opacity-100 transition-opacity duration-1000"
         style="background-image: url('images/homeimg.jpg');"></div>
    <div id="heroBg2" class="absolute inset-0 bg-cover bg-center opacity-0 transition-opacity duration-1000"></div>

    <!-- Dark overlay -->
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>

    <!-- Hero Content -->
    <div class="relative z-10 flex justify-center items-center h-full text-center text-white">
      <div>
        <h1 id="titleFont" class="text-6xl font-bold mb-5">BOOK NOW</h1>
      </div>
    </div>
  </section>

  <!-- Booking -->
  <div class="flex items-center justify-center ">
    
  
    <div class="relative z-20 md:mt-[2%] md:flex shadow-md md:items-center md:ml-5 md:-mt-[3%] md:mb-[2%]">
<div class="bg-white p-6 border grid grid-cols-1 gap-4 md:grid-cols-5">

  <!-- Booking header -->
  <div class="bg-amber-400 rounded p-4 md:p-6 flex items-center justify-center col-span-1 md:col-span-1">
    <p class="text-white text-lg md:text-xl font-semibold">Booking Details</p>
  </div>

  <!-- Person + Email (row 2 on mobile) -->
  <div class="grid grid-cols-2 gap-4 col-span-1 md:col-span-2">
    <!-- Person -->
    <div>
      <label for="person" class="block text-gray-500 font-semibold">Person</label>
      <select id="person" class="border p-2 rounded w-full">
        <option value="">Select Person</option>
        <option value="1">1 Person</option>
        <option value="2">2 People</option>
        <option value="3">3 People</option>
        <option value="4">4 People</option>
      </select>
    </div>
    <!-- Email -->
    <div>
      <label for="email" class="block text-gray-500 font-semibold">Email</label>
      <input type="email" id="email" placeholder="Enter your email" class="border p-2 rounded w-full">
    </div>
  </div>

  <!-- Check-in + Check-out (row 3 on mobile) -->
  <div class="grid grid-cols-2 gap-4 col-span-1 md:col-span-2">
    <!-- Check-in -->
    <div>
      <label for="check-in" class="block text-gray-500 font-semibold">Check-in</label>
      <input type="date" id="check-in" class="border p-2 rounded w-full">
    </div>
    <!-- Check-out -->
    <div>
      <label for="check-out" class="block text-gray-500 font-semibold">Check-out</label>
      <input type="date" id="check-out" class="border p-2 rounded w-full">
    </div>
  </div>

</div>

      
    </div>


  </div>
  
  <!-- Checkout Modal -->
  <div id="checkoutModal" class="hidden fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg w-11/12 max-w-4xl p-6 relative max-h-[90vh] overflow-y-auto">
      <button onclick="closeCheckoutModal()" class="absolute top-3 right-3 text-2xl font-bold hover:text-gray-700">&times;</button>
      <h2 class="text-3xl font-bold mb-6 text-amber-400">Checkout Summary</h2>
      
      <!-- Customer Info Form -->
      <div class="mb-6">
        <h3 class="text-xl font-semibold mb-4">Customer Information</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-gray-600 font-semibold mb-1">First Name</label>
            <input type="text" id="firstName" class="w-full border rounded px-4 py-2" placeholder="John">
          </div>
          <div>
            <label class="block text-gray-600 font-semibold mb-1">Last Name</label>
            <input type="text" id="lastName" class="w-full border rounded px-4 py-2" placeholder="Doe">
          </div>
          <div>
            <label class="block text-gray-600 font-semibold mb-1">Email</label>
            <input type="email" id="customerEmail" class="w-full border rounded px-4 py-2" placeholder="john@example.com">
          </div>
          <div>
            <label class="block text-gray-600 font-semibold mb-1">Phone</label>
            <input type="tel" id="phone" class="w-full border rounded px-4 py-2" placeholder="+63 912 345 6789">
          </div>
        </div>
      </div>

      <!-- Booking Details -->
      <div class="mb-6">
        <h3 class="text-xl font-semibold mb-4">Booking Details</h3>
        <div id="checkoutRoomsList" class="space-y-4"></div>
      </div>

      <!-- Total -->
      <div class="border-t pt-4 mb-6">
        <div class="flex justify-between items-center text-xl font-bold">
          <span>Total Amount:</span>
          <span class="text-amber-500">$<span id="checkoutTotal">0.00</span></span>
        </div>
      </div>

      <!-- Confirm Button -->
      <button onclick="confirmBooking()" class="w-full bg-[#FFD23E] hover:bg-yellow-500 text-white py-3 rounded-lg font-semibold text-lg transition-colors">
        Confirm Booking
      </button>
    </div>
  </div>

  <h1 id="titleFont" class="text-3xl font-bold text-gray-500 mt-5 ml-5">Select A Room</h1>
  <div class="border-b-2 w-full mt-2"></div>

<div class="flex justify-between">
  <div class="w-full mt-[-2%]">
    <div id="roomsContainer" class="flex flex-col w-full ml-0 md:ml-5 gap-1 my-10"></div>
  </div>
  

  <div class="w-[30vw] hidden md:block">
    <div id="cartSummary" class="mr-[2%] md:mt-[6%]  border-2 p-10 w-[30vw]">
      <p class="text-sm text-gray-600 mb-2">Order details</p>
      <h1 class="text-gray-500 text-xl font-semibold">Your Cart: <span id="cartItemCount">0</span> Item</h1>
      <h1 class="text-gray-600 text-xl font-semibold">Total $ <span id="cartTotalAmount">0.00</span></h1>
      
      <!-- Cart Items List -->
      <div id="cartItemsList" class="mt-4 space-y-2 "></div>
      
      <!-- Checkout Button -->
      <button id="checkoutButton" onclick="openCheckoutModal()" class="mt-4 w-full bg-[#FFD23E] text-white px-4 py-2 rounded hover:bg-yellow-500 transition-colors disabled:bg-gray-300" disabled>
        Proceed to Checkout
      </button>
    </div>
  </div>
</div>

  <!-- Modal -->
  <div id="galleryModal" class="hidden fixed inset-0 bg-black bg-opacity-80 items-center justify-center z-50">
    <button onclick="closeGallery()" class="absolute top-5 right-5 text-white text-3xl">&times;</button>
    <button onclick="prevImage()" class="absolute left-5 text-white text-3xl">&#10094;</button>
    <img id="modalImg" src="" class="h-[90%] w-[60%] rounded shadow-lg">
    <button onclick="nextImage()" class="absolute right-5 text-white text-3xl">&#10095;</button>
  </div>
  

  <footer class="bg-gray-800">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        <div>
          <h3
            class="text-white text-sm font-semibold tracking-wider uppercase"
          >
            Company
          </h3>
          <ul class="mt-4 space-y-4">
            <li>
                <a href="#" class="text-gray-300 hover:text-white text-base"
                  >Home</a
                >
              </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >About</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Rooms</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Contact</a
              >
            </li>
           
          </ul>
        </div>

        <div>
          <h3
            class="text-white text-sm font-semibold tracking-wider uppercase"
          >
            Support
          </h3>
          <ul class="mt-4 space-y-4">
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Help Center</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Safety</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Cancellation Policy</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Report Issue</a
              >
            </li>
          </ul>
        </div>

        <div>
          <h3
            class="text-white text-sm font-semibold tracking-wider uppercase"
          >
            Legal
          </h3>
          <ul class="mt-4 space-y-4">
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Terms of Service</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Privacy Policy</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >Cookie Policy</a
              >
            </li>
            <li>
              <a href="#" class="text-gray-300 hover:text-white text-base"
                >GDPR</a
              >
            </li>
          </ul>
        </div>

        <div>
          <h3
            class="text-white text-sm font-semibold tracking-wider uppercase"
          >
            Contact Us
          </h3>
          <ul class="mt-4 space-y-4">
            <li class="flex items-center">
              <i class="fas fa-map-marker-alt text-gray-300 mr-2"></i>
              <span class="text-gray-300"
                >123 Luxury Street, Suite 100, New York, NY 10001</span
              >
            </li>
            <li class="flex items-center">
              <i class="fas fa-phone-alt text-gray-300 mr-2"></i>
              <span class="text-gray-300">+1 (555) 123-4567</span>
            </li>
            <li class="flex items-center">
              <i class="fas fa-envelope text-gray-300 mr-2"></i>
              <span class="text-gray-300">hello@luxstay.com</span>
            </li>
          </ul>
        </div>
      </div>

      <div
        class="mt-8 border-t border-gray-700 pt-8 md:flex md:items-center md:justify-between"
      >
        <div class="flex space-x-6 md:order-2">
          <a href="#" class="text-gray-400 hover:text-white">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-white">
            <i class="fab fa-instagram"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-white">
            <i class="fab fa-twitter"></i>
          </a>
          <a href="#" class="text-gray-400 hover:text-white">
            <i class="fab fa-linkedin-in"></i>
          </a>
        </div>
        <p class="mt-8 text-base text-gray-400 md:mt-0 md:order-1">
          &copy; 2025 LuxStay. All rights reserved.
        </p>
      </div>
    </div>
  </footer>


  <script>

const heroImages = [
      "images/homeimg.jpg",
      "images/view.jpg",
      "images/pool.jpg"
    ];

    let currentHeroIndex = 0;
    let showingFirst = true;

    const bg1 = document.getElementById("heroBg1");
    const bg2 = document.getElementById("heroBg2");

    // Preload images
    heroImages.forEach(src => {
      const img = new Image();
      img.src = src;
    });

    function changeHeroImage() {
      currentHeroIndex = (currentHeroIndex + 1) % heroImages.length;

      if (showingFirst) {
        bg2.style.backgroundImage = `url('${heroImages[currentHeroIndex]}')`;
        bg2.classList.replace("opacity-0", "opacity-100");
        bg1.classList.replace("opacity-100", "opacity-0");
      } else {
        bg1.style.backgroundImage = `url('${heroImages[currentHeroIndex]}')`;
        bg1.classList.replace("opacity-0", "opacity-100");
        bg2.classList.replace("opacity-100", "opacity-0");
      }

      showingFirst = !showingFirst;
    }

    // Start slideshow
    setInterval(changeHeroImage, 5000);


    const rooms = [
      {
        id: 1,
        name: "Presidential Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 400,
        description: "38sqm, Working Desk, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://img.freepik.com/free-photo/3d-rendering-beautiful-comtemporary-luxury-bedroom-suite-hotel-with-tv_105762-2071.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8="
            ]
      },
      {
        id: 2,
        name: "Deluxe Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 350,
        description: "38sqm, Elegant Interior, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        id: 3,
        name: "Premium Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 300,
        description: "38sqm, Modern Design, Flat Screen TV <br> Max: 2 Adults + 2 Children",
        images: [
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8=",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        id: 4,
        name: "Standard Room",
        bed: "1 Queen Bed",
        breakfast: "Breakfast Included",
        price: 250,
        description: "27sqm, Cozy Room, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://media.istockphoto.com/id/180451126/photo/hotel-standard-room.jpg?s=612x612&w=0&k=20&c=iu4nL4_zUf7AI6iL74zvpqHFg-0AFR3bdTP68WJf5_g=",
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        id: 5,
        name: "Premier Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 210,
        description: "32sqm, City View, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/premium-photo/interior-photography-modern-style-bedroom-with-large-bed_321831-670.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-beautiful-comtemporary-luxury-bedroom-suite-hotel-with-tv_105762-2071.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/180451126/photo/hotel-standard-room.jpg?s=612x612&w=0&k=20&c=iu4nL4_zUf7AI6iL74zvpqHFg-0AFR3bdTP68WJf5_g="
            ]
      },
      {
        id: 6,
        name: "One-Bedroom Suite",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 180,
        description: "30sqm, Spacious with Living Area <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/3d-rendering-luxury-bedroom-suite-hotel-with-tv-cabinet-wardrobe_105762-2292.jpg?w=740&q=80"
            ]
      },
      {
        id: 7,
        name: "Executive Room",
        bed: "1 King Bed",
        breakfast: "Breakfast Included",
        price: 180,
        description: "35sqm, Business Interior, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://media.istockphoto.com/id/1453121684/photo/modern-hotel-room-with-double-bed-night-tables-and-day-sofa-bed.jpg?s=612x612&w=0&k=20&c=zIw8iR0vtQa19VQlrohzQEt7x-izuwP6JBjJY_68--8=",
              "https://img.freepik.com/free-photo/interior-modern-comfortable-hotel-room_1232-1822.jpg?w=740&q=80"
            ]
      },
      {
        id: 8,
        name: "Economy Room",
        bed: "1 Double Bed",
        breakfast: "Breakfast Included",
        price: 130,
        description: "20sqm, Budget-Friendly, Flat Screen TV <br> Max: 2 Adults",
        images: [
              "https://img.freepik.com/free-photo/small-bedroom-design-with-double-bed-white-linen-window_1262-12487.jpg?w=740&q=80",
              "https://img.freepik.com/free-photo/luxury-bedroom-hotel_1150-10836.jpg?w=740&q=80",
              "https://img.freepik.com/premium-photo/interior-photography-modern-style-bedroom-with-large-bed_321831-670.jpg?w=740&q=80"
            ]
      }
    ];

    // Cart functionality
    let cart = [];
    
    // Set minimum dates
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('check-in').setAttribute('min', today);
    document.getElementById('check-out').setAttribute('min', today);

    // Update checkout date when checkin changes
    document.getElementById('check-in').addEventListener('change', function() {
      const checkinDate = new Date(this.value);
      checkinDate.setDate(checkinDate.getDate() + 1);
      const minCheckout = checkinDate.toISOString().split('T')[0];
      document.getElementById('check-out').setAttribute('min', minCheckout);
    });

    const container = document.getElementById("roomsContainer");
    const modal = document.getElementById("galleryModal");
    const modalImg = document.getElementById("modalImg");
    let currentImages = [];
    let currentIndex = 0;

    rooms.forEach((room) => {
      const card = document.createElement("div");
      card.className = "relative flex flex-col md:flex-row md:w-[65vw] mt-2 rounded-lg overflow-hidden border";

      // Left: image
      const left = document.createElement("div");
      left.className = "relative md:w-[50vw] md:w-1/2 h-[40vh] md:h-[30vh] overflow-hidden";

      const img = document.createElement("img");
      img.src = room.images[0]; 
      img.className = "h-full w-full object-cover";
      left.appendChild(img);

      const overlay = document.createElement("img");
      overlay.src = "images/image-gallery.png";
      overlay.className = "absolute bottom-2 right-2 w-8 h-8 bg-white rounded-full p-1 shadow-md cursor-pointer";
      overlay.onclick = () => openGallery(room.images);
      left.appendChild(overlay);

      // Right: info
      const right = document.createElement("div");
      right.className = "w-full md:w-full p-6 flex flex-col justify-between";

      // Create a div for the right content
      const content = document.createElement("div");
      content.className = "flex justify-between items-start mb-4";

      // Room details
      const roomDetails = document.createElement("div");
      roomDetails.className = "w-[65%]";
      roomDetails.innerHTML = `
        <h1 id="roomFont" class="text-2xl text-gray-500 font-bold">${room.name}</h1> 
        <p class="text-gray-500">${room.bed}</p>
        <p class="font-semibold text-gray-500">${room.breakfast}</p>
        <p class="text-gray-600 leading-relaxed mt-4">${room.description}</p>
      `;

      // Price and button
      const booking = document.createElement("div");
      booking.className = "text-right flex flex-col items-start gap-2";

      const price = document.createElement("h1");
      price.className = "text-2xl font-bold text-amber-500";
      price.innerText = `$${room.price}`;

      const perNight = document.createElement("p");
      perNight.className = "text-gray-500 text-sm";
      perNight.innerText = "Per Night";

      const button = document.createElement("button");
      button.className = "bg-amber-400 text-white px-6 py-2 rounded hover:bg-yellow-600 transition";
      button.innerText = "Book Now";

      button.onclick = () => addToCart(room);

      // Assemble booking section
      booking.appendChild(price);
      booking.appendChild(perNight);
      booking.appendChild(button);

      content.appendChild(roomDetails);
      content.appendChild(booking);

      right.appendChild(content);
      card.appendChild(left);
      card.appendChild(right);
      container.appendChild(card);
    });

    let isFirstTimeBooking = true;

    function addToCart(room) {
  const person = document.getElementById("person")?.value;
  const checkIn = document.getElementById("check-in")?.value;
  const checkOut = document.getElementById("check-out")?.value;
  const email = document.getElementById("email")?.value;

  if (!person || !checkIn || !checkOut || !email) {
    alert("Please fill in all booking details before adding rooms to cart.");
    return;
  }

  const checkinDate = new Date(checkIn);
  const checkoutDate = new Date(checkOut);
  const nights = Math.ceil((checkoutDate - checkinDate) / (1000 * 60 * 60 * 24));

  if (nights <= 0) {
    alert("Check-out date must be after check-in date.");
    return;
  }

  const existingItem = cart.find(item => item.room.id === room.id);
  if (existingItem) {
    alert("This room is already in your cart!");
    return;
  }

  const cartItem = {
    room,
    person,
    checkIn,
    checkOut,
    email,
    nights,
    total: room.price * nights
  };

  cart.push(cartItem);
  updateCartDisplay();
  updateMobileCart(); // if using mobile popup

  // Automatically show the cart/modal the first time a room is added
  if (isFirstTimeBooking) {
    if (window.innerWidth < 820) {
      // mobile
      document.getElementById('mobileCartBtn').click();
    } else {
      // desktop (scroll to sidebar)
      scrollToCart();
    }
    isFirstTimeBooking = false;
  }
}

    function removeFromCart(roomId) {
      cart = cart.filter(item => item.room.id !== roomId);
      updateCartDisplay();
      updateMobileCart(); 
    }

    function updateCartDisplay() {
      const cartItemCount = document.getElementById('cartItemCount');
      const cartTotalAmount = document.getElementById('cartTotalAmount');
      const cartItemsList = document.getElementById('cartItemsList');
      const checkoutButton = document.getElementById('checkoutButton');

      cartItemCount.textContent = cart.length;
      
      if (cart.length === 0) {
        cartTotalAmount.textContent = '0.00';
        cartItemsList.innerHTML = '<p class="text-gray-500 text-sm">No items in cart</p>';
        checkoutButton.disabled = true;
        return;
      }

      let total = cart.reduce((sum, item) => sum + item.total, 0);
      cartTotalAmount.textContent = total.toFixed(2);

      cartItemsList.innerHTML = '';
      cart.forEach(item => {
        const cartItemDiv = document.createElement('div');
        cartItemDiv.className = 'bg-gray-100 p-2 rounded text-sm';
        cartItemDiv.innerHTML = `
          <div class="flex justify-between items-start">
            <div>
              <p class="font-semibold">${item.room.name}</p>
              <p class="text-xs text-gray-600">${item.nights} nights × $${item.room.price}</p>
            </div>
            <div class="text-right">
              <p class="font-bold text-amber-600">$${item.total}</p>
              <button onclick="removeFromCart(${item.room.id})" class="text-red-500 text-xs hover:text-red-700">Remove</button>
            </div>
          </div>
        `;
        cartItemsList.appendChild(cartItemDiv);
      });

      checkoutButton.disabled = false;
    }

    function scrollToCart() {
      document.getElementById('cartSummary').scrollIntoView({ behavior: 'smooth' });
    }

    function openCheckoutModal() {
      if (cart.length === 0) {
        alert("Your cart is empty!");
        return;
      }

      document.getElementById('checkoutModal').classList.remove('hidden');
      
      // Populate checkout details
      const checkoutRoomsList = document.getElementById('checkoutRoomsList');
      const checkoutTotal = document.getElementById('checkoutTotal');
      
      checkoutRoomsList.innerHTML = '';
      let total = 0;

      cart.forEach(item => {
        total += item.total;
        const roomDiv = document.createElement('div');
        roomDiv.className = 'border p-4 rounded bg-white shadow';
        roomDiv.innerHTML = `
          <div class="flex flex-col md:flex-row gap-4">
            <img src="${item.room.images[0]}" alt="${item.room.name}" class="w-full md:w-[300px] h-[200px] object-cover rounded">
            <div>
              <h3 class="text-xl font-semibold text-gray-800">${item.room.name}</h3>
              <p class="text-gray-600">${item.room.bed}</p>
              <p class="text-gray-600">${item.room.breakfast}</p>
              <p class="text-gray-600 mt-2">${item.room.description}</p>
              <p class="text-amber-600 text-lg font-bold mt-4">$${item.room.price}.00 per night</p>
              <p class="mt-2 text-gray-700"><strong>Check-in:</strong> ${item.checkIn}</p>
              <p class="text-gray-700"><strong>Check-out:</strong> ${item.checkOut}</p>
              <p class="text-gray-700"><strong>Guests:</strong> ${item.person}</p>
              <p class="text-gray-700"><strong>Email:</strong> ${item.email}</p>
              <p class="text-gray-700"><strong>Nights:</strong> ${item.nights}</p>
              <p class="text-xl font-bold text-amber-600 mt-2">Total: $${item.total}</p>
            </div>
          </div>
        `;
        checkoutRoomsList.appendChild(roomDiv);
      });

      checkoutTotal.textContent = total.toFixed(2);

      // Pre-fill email from cart
      if (cart.length > 0) {
        document.getElementById('customerEmail').value = cart[0].email;
      }
    }

    function closeCheckoutModal() {
      document.getElementById('checkoutModal').classList.add('hidden');
    }

    function confirmBooking() {
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const customerEmail = document.getElementById('customerEmail').value;
      const phone = document.getElementById('phone').value;

      if (!firstName || !lastName || !customerEmail || !phone) {
        alert("Please fill in all customer information fields.");
        return;
      }

      const bookingData = {
        customer: { firstName, lastName, email: customerEmail, phone },
        rooms: cart,
        total: cart.reduce((sum, item) => sum + item.total, 0),
        bookingDate: new Date().toISOString()
      };

      // In a real app, you'd send this to your backend
      console.log('Booking confirmed:', bookingData);

      // Clear cart and close modal
      cart = [];
      updateCartDisplay();
      closeCheckoutModal();

      alert(`Booking confirmed! Total: $${bookingData.total.toFixed(2)}\nConfirmation details have been sent to ${customerEmail}`);
    }

    // Gallery functions
    function openGallery(images) {
      currentImages = images;
      currentIndex = 0;
      modalImg.src = images[currentIndex];
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    }

    function closeGallery() {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    }

    function nextImage() {
      currentIndex = (currentIndex + 1) % currentImages.length;
      modalImg.src = currentImages[currentIndex];
    }

    function prevImage() {
      currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
      modalImg.src = currentImages[currentIndex];
    }

    // Initialize
    updateCartDisplay();
  </script>
</body>
</html>